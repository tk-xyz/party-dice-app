<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dice or Duty</title>
<style>
body {
  font-family: Arial, sans-serif;
  text-align: center;
  background: #f5f5f5;
}
#container {
  margin: 30px auto;
}
button {
  padding: 10px 20px;
  margin: 10px;
  font-size: 18px;
  border: 2px solid #333;
  background-color: #fff;
  cursor: pointer;
}
button.active {
  background-color: #eee;
}
#sides-container {
  margin: 20px;
}
#result {
  margin-top: 20px;
  font-size: 48px;
}
#dice-image {
  width: 100px;
  height: 100px;
}
#custom-container input {
  width: 90%;
  padding: 8px;
  margin: 5px;
}
</style>
</head>
<body>
<h1 id="title">Dice or Duty</h1>
<div id="mode-buttons">
  <button id="classicBtn"></button>
  <button id="customBtn"></button>
</div>
<div id="sides-container">
  <label id="sidesLabel" for="sides"></label>
  <input type="number" id="sides" min="2" max="20" value="6">
  <button id="rollBtn"></button>
</div>
<div id="result"></div>
<div id="custom-container" style="display:none;"></div>
<script>
const translations = {
  en: {
    title: "Dice or Duty",
    classic: "Classic",
    custom: "Custom",
    sidesLabel: "Number of sides:",
    roll: "Roll",
    placeholder: "Enter task"
  },
  tr: {
    title: "Dice or Duty",
    classic: "Klasik",
    custom: "\u00d6zel",
    sidesLabel: "Y\u00fcz say\u0131s\u0131:",
    roll: "At",
    placeholder: "G\u00f6rev gir"
  }
};
const userLang = (navigator.language || navigator.userLanguage || 'en').toLowerCase();
const lang = userLang.startsWith('tr') ? 'tr' : 'en';
function applyTranslations() {
  const t = translations[lang];
  document.getElementById('title').textContent = t.title;
  classicBtn.textContent = t.classic;
  customBtn.textContent = t.custom;
  sidesLabel.textContent = t.sidesLabel;
  rollBtn.textContent = t.roll;
}
applyTranslations();
const diceImages = ["1.png", "2.png", "3.png", "4.png", "5.png", "6.png"];
const classicBtn = document.getElementById('classicBtn');
const customBtn = document.getElementById('customBtn');
const rollBtn = document.getElementById('rollBtn');
const resultDiv = document.getElementById('result');
const sidesInput = document.getElementById('sides');
const customContainer = document.getElementById('custom-container');
classicBtn.addEventListener('click', () => {
  classicBtn.classList.add('active');
  customBtn.classList.remove('active');
  customContainer.style.display = 'none';
});
customBtn.addEventListener('click', () => {
  customBtn.classList.add('active');
  classicBtn.classList.remove('active');
  generateCustomInputs();
  customContainer.style.display = 'block';
});
sidesInput.addEventListener('input', () => {
  if (customBtn.classList.contains('active')) {
    generateCustomInputs();
  }
});
function generateCustomInputs() {
  customContainer.innerHTML = '';
  const n = parseInt(sidesInput.value) || 0;
  for (let i=0; i<n; i++) {
    const input = document.createElement('input');
    input.type = 'text';
    input.placeholder = translations[lang].placeholder + ' ' + (i+1);
    customContainer.appendChild(input);
  }
}
rollBtn.addEventListener('click', () => {
  const sides = parseInt(sidesInput.value);
  if (isNaN(sides) || sides < 1) return;
  if (customBtn.classList.contains('active')) {
    const inputs = customContainer.querySelectorAll('input');
    const tasks = [];
    inputs.forEach(input => {
      if (input.value.trim() !== '') tasks.push(input.value.trim());
    });
    if (tasks.length === 0) {
      resultDiv.textContent = '-';
      return;
    }
    const randomTask = tasks[Math.floor(Math.random()*tasks.length)];
    resultDiv.textContent = randomTask;
  } else {
    const roll = Math.floor(Math.random()*sides) + 1;
    if (sides <= 6 && diceImages[roll-1]) {
      resultDiv.innerHTML = '<img src="'+diceImages[roll-1]+'" id="dice-image">';
    } else {
      resultDiv.textContent = roll;
    }
  }
});
</script>
</body>
</html>
